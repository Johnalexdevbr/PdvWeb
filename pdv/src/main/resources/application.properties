# ============================================================
# CONFIGURAÇÃO DO BANCO DE DADOS (POSTGRESQL)
# ============================================================
# Tenta usar a URL da nuvem (SPRING_DATASOURCE_URL).
# Se não encontrar, usa o seu banco local 'pdvweb'.
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/pdvweb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:123456}
spring.datasource.driver-class-name=org.postgresql.Driver

# ============================================================
# JPA / HIBERNATE
# ============================================================
# 'update' cria/altera tabelas automaticamente.
# Ideal para a fase de configuração do deploy que você está iniciando.
spring.jpa.hibernate.ddl-auto=update

# Mantemos 'false' para não poluir os logs do servidor online com SQL.
spring.jpa.show-sql=false

# O Hibernate detecta a versão do PostgreSQL automaticamente na maioria das versões do Spring Boot 3.x.
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect

# ============================================================
# CONFIGURAÇÕES DO SPRING / SEGURANÇA
# ============================================================
spring.main.allow-bean-definition-overriding=true

# Credenciais de acesso ao sistema (User: admin | Pass: admin123)
# Quando estiver na nuvem, você pode mudar a senha nas Variáveis de Ambiente (APP_ADMIN_PASS).
spring.security.user.name=${APP_ADMIN_USER:admin}
spring.security.user.password=${APP_ADMIN_PASS:admin123}

# ============================================================
# CONFIGURAÇÃO DE PORTA (OPCIONAL PARA DEPLOY)
# ============================================================
# A maioria das nuvens define a porta via variável de ambiente 'PORT'.
server.port=${PORT:8080}